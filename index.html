<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Enterprise Dashboard ‚Äì ESG Governance</title>
  <link rel="stylesheet" href="style.css" />
  <!-- ethers.js v5 -->
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>

  <style>
    .console{
      background:#1e1e1e;color:#d4d4d4;
      font-family:"Fira Code",ui-monospace,monospace;
      font-size:16px;padding:16px;border-radius:8px;
      max-height:400px;overflow-y:auto;white-space:pre-wrap
    }
    .finance-status{display:flex;flex-direction:column;gap:16px;margin-top:16px}
    .status-item{display:flex;align-items:center;justify-content:space-between;
      background:#f9f9f9;border-radius:12px;padding:16px 20px;
      box-shadow:0 4px 10px rgba(0,0,0,.05);font-size:18px}
    .status-item .product{font-weight:700;color:#1C7C54;min-width:200px}
    .status-item .detail{flex:1;text-align:left;color:#444;padding:0 10px}
    .status-item .mark{font-size:22px;min-width:28px;text-align:right}
    .criteria-list{list-style:none;padding-left:0;font-size:15px;line-height:1.6;color:#444}
    .criteria-list li{margin:6px 0;background:#f9f9f9;padding:8px 12px;border-radius:8px;box-shadow:0 2px 6px rgba(0,0,0,0.05)}
    .criteria-list strong{color:#1C7C54;margin-right:6px}
  </style>
</head>
<body>
  <header>
    <h1>üå± Enterprise Dashboard</h1>
    <nav>
      <a href="index.html">Enterprise</a> |
      <a href="page2.html">Auditor</a>
    </nav>
  </header>

  <!-- Wallet -->
  <div id="wallet" class="card">
    <button id="connectButton">Connect Wallet</button>
    <button id="disconnectButton">Disconnect</button>
    <p id="walletAddress">Not connected</p>
  </div>

  <!-- ‚ë† IoT Data Instant On-Chain -->
  <section class="card">
    <h2><span class="step-circle">‚ë†</span> IoT Data Instant On-Chain</h2>
    <button id="startFeed">Start Data Feed</button>
    <button id="stopFeed">Stop Data Feed</button>
    <div id="dataFeed" class="console">[No data yet]</div>
  </section>

  <!-- ‚ë° ESG Report Upload -->
  <section class="card">
    <h2><span class="step-circle">‚ë°</span> Upload Report (Enterprise)</h2>
    <input type="file" id="fileInput" />
    <button id="uploadButton">Upload & Register</button>
    <pre id="uploadResult"></pre>
  </section>

  <!-- ‚ë¢ Report Status -->
  <section class="card">
    <h2><span class="step-circle">‚ë¢</span> Check Report Status</h2>
    <input type="text" id="statusHash" placeholder="Enter file hash (0x...)" />
    <button id="checkStatus">Check Status</button>
    <pre id="statusResult"></pre>
  </section>

  <!-- ‚ë£ Token & Finance -->
  <section class="card">
    <h2><span class="step-circle">‚ë£</span> Token Distribution & Green Finance</h2>
    <p id="balanceResult">Balance: 0 GRT</p>
    <p id="impactResult">CO‚ÇÇ Reduction: 0 tons</p>
    <button id="checkBalance">Check Balance</button>
    <button id="resetBalance">Reset Balance</button>

    <div class="finance-status">
      <div class="status-item" id="loanStatus">
        <span class="product">Loan</span>
        <span class="detail">--</span>
        <span class="mark">-</span>
      </div>
      <div class="status-item" id="bondStatus">
        <span class="product">Bond</span>
        <span class="detail">--</span>
        <span class="mark">-</span>
      </div>
      <div class="status-item" id="carbonStatus">
        <span class="product">Carbon Credits</span>
        <span class="detail">--</span>
        <span class="mark">-</span>
      </div>
      <div class="status-item" id="insuranceStatus">
        <span class="product">Insurance</span>
        <span class="detail">--</span>
        <span class="mark">-</span>
      </div>
      <div class="status-item" id="scfStatus">
        <span class="product">Supply Chain Finance</span>
        <span class="detail">--</span>
        <span class="mark">-</span>
      </div>
    </div>
  </section>

  <!-- ‚ë§ Finance Criteria Reference -->
  <section class="card">
    <h2><span class="step-circle">‚ë§</span> Finance Criteria Reference</h2>
    <ul class="criteria-list">
      <li><strong>Loan:</strong> &lt;50 ‚ùå Not eligible | 50‚Äì99 ‚ö° Up to S$1M, -0.1% | 100‚Äì199 ‚úÖ Up to S$2M, -0.2% | ‚â•200 ‚úÖ Up to S$5M, -0.3%</li>
      <li><strong>Bond:</strong> &lt;100 ‚ùå Not eligible | 100‚Äì199 ‚ö° Pilot coupon -0.1% | ‚â•200 ‚úÖ Coupon reduced -0.2%</li>
      <li><strong>Carbon Credits:</strong> Balance √ó0.2 credits, each ‚âà USD 5</li>
      <li><strong>Insurance:</strong> &lt;100 ‚ùå Not eligible | 100‚Äì199 ‚úÖ Premium discount 5% | ‚â•200 ‚úÖ Premium discount 8%</li>
      <li><strong>Supply Chain Finance:</strong> &lt;50 ‚ùå Not eligible | 50‚Äì199 ‚úÖ Discount rate -0.2% | ‚â•200 ‚úÖ Discount rate -0.3%</li>
    </ul>
  </section>

  <!-- enterprise logic -->
  <script src="app.js"></script>
</body>
</html>
